<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN">
<html lang="ja">
<head>
<title>Generated content, automatic numbering, and lists</title>
<link rel="stylesheet" href="https://www.w3.org/StyleSheets/TR/W3C-ED.css" type="text/css">
<link rel="stylesheet" href="style/default.css" type="text/css">
<link rel="prev" href="visufx.html">
<link rel="next" href="page.html">
<link rel="contents" href="cover.html#minitoc">
<link rel="CSS-properties" href="propidx.html" title="properties">
<link rel="index" href="indexlist.html" title="index">
<link rel="first" href="cover.html">

</head>
<body>
<div class="navbar">
<p><a href="visufx.html">前章</a> &nbsp; <a href="page.html">次章</a> &nbsp; <a href="cover.html#minitoc">目次</a> &nbsp; <a href="propidx.html">プロパティー</a> &nbsp; <a href="indexlist.html">索引</a> &nbsp;
</div>
<hr class="navbar">

<h1>12 <a name="generated-text">生成</a><a name="x0"><span class="index-def"
title="generated content">コンテンツ</span></a>、自動<a name="x1"><span
class="index-def" title="automatic numbering">番号付け</span></a>、リスト</h1>
<div class="subtoc">
<p><strong>目次</strong>
  <ul class="toc">
    <li class="tocline2"><a href="generate.html#before-after-content" class="tocxref">12.1 <span class="index-def" title=":before|pseudo-elements:::before|before">:before</span>および<span class="index-def" title=":after|pseudo-elements:::after|after">:after</span>疑似要素</a>
    </li><li class="tocline2"><a href="generate.html#content" class="tocxref">12.2 <span class="propinst-content">'content'</span>プロパティー</a>
    </li><li class="tocline2"><a href="generate.html#quotes" class="tocxref">12.3 引用符</a>
    <ul class="toc">
      <li class="tocline3"><a href="generate.html#quotes-specify" class="tocxref">12.3.1 <span class="propinst-quotes">'quotes'</span>プロパティーで引用符を指定する</a>
      </li><li class="tocline3"><a href="generate.html#quotes-insert" class="tocxref">12.3.2 <span class="propinst-content">'content'</span>プロパティーで引用符を挿入する</a>
    </li></ul>
    </li><li class="tocline2"><a href="generate.html#counters" class="tocxref">12.4 自動<span class="index-def" title="counters">カウンタ</span>と番号付け</a>
    <ul class="toc">
      <li class="tocline3"><a href="generate.html#scope" class="tocxref">12.4.1 カウンタのネストと範囲</a>
      </li><li class="tocline3"><a href="generate.html#counter-styles" class="tocxref">12.4.2 カウンタスタイル</a>
      </li><li class="tocline3"><a href="generate.html#undisplayed-counters" class="tocxref">12.4.3 'display: none'の要素におけるカウンタ</a>
    </li></ul>
    </li><li class="tocline2"><a href="generate.html#lists" class="tocxref">12.5 リスト</a>
    <ul class="toc">
      <li class="tocline3"><a href="generate.html#list-style" class="tocxref">12.5.1 リスト：<span class="propinst-list-style-type">'list-style-type'</span>、<span class="propinst-list-style-image">'list-style-image'</span>、<span class="propinst-list-style-position">'list-style-position'</span>、<span class="propinst-list-style">'list-style'</span>プロパティー</a>
    </li></ul>
  </li></ul>
</div>


<p>場合によっては、著者はユーザーエージェントに<a href="conform.html#doctree">文書ツリー</a>に由来しないコンテンツをレンダリングさせたくなることもあってもよい。この身近な1つの例は番号付きリストである。著者は明示的に番号をリストにしたくなく、番号の自動生成をユーザーエージェントに求める。同様に、著者はユーザーエージェントに、図のキャプションの前に単語"図"、または第7章のタイトルの前に"第7章"と挿入することを望んでもよい。特に音声や点字の場合は、ユーザーエージェントはこれらの文字列を挿入できるようにすべきである。

<p>CSS&nbsp;2.2において、コンテンツは次の2つのメカニズムによって生成されてもよい：</p>

<ul>
<li>:beforeおよび:after疑似要素と共に、<a href="generate.html#propdef-content" class="noxref"><span class="propinst-content">'content'</span></a>プロパティー。
</li><li><a href="visuren.html#propdef-display" class="noxref"><span class="propinst-display">'display'</span></a>プロパティーに対して'list-item'の値をもつ要素。
</li></ul>


<h2>12.1 <a name="before-after-content"></a> <a name="x2"><span class="index-def"
title=":before|pseudo-elements:::before|before">:before</span></a>および<a name="x5"><span
class="index-def" title=":after|pseudo-elements:::after|after">:after</span></a>疑似要素</h2>

<p>著者は、:beforeおよび:after疑似要素をもつ生成されるコンテンツのスタイルと場所を指定する。その名前が示すように、:beforeおよび:after疑似要素は、要素の<a href="conform.html#doctree">文書ツリー</a>コンテンツの前後にコンテンツの場所を指定する。これらの疑似要素と組み合わせて、<a href="generate.html#propdef-content" class="noxref"><span class="propinst-content">'content'</span></a>プロパティーは何を挿入するかを指定する。

<div class=example><P style="display:none">例：</P>
<p>たとえば、次の規則は"class"属性が値"note"を持つすべてのP要素のコンテンツの前に文字列"Note:"を挿入する：</p>

<pre>
p.note:before { content: "Note: " }
</pre>
</div>

<P>要素によって生成された整形オブジェクト（たとえば、ボックス）は、生成されるコンテンツを含む。たとえば、上のスタイルシートを次のように変更すると：</p>

<pre class="example">
p.note:before { content: "Note: " }
p.note        { border: solid green }
</pre>

<P>緑の実線ボーダーが、先頭の挿入文字を含む段落全体の周囲にレンダリングされる。

<P>:beforeおよび:after疑似要素は、疑似要素が伴う文書ツリー内の要素から継承可能なプロパティーを<a
href="cascade.html#inheritance">継承</a>する。</p>



<div class=example><P style="display:none">例：</P>

<p>たとえば、次の規則はすべてのQ要素の前に開始引用符を挿入する。引用符の色は赤になるが、そのフォントはQ要素の残りの部分のフォントと同じになる：</p>

<pre>
q:before {
  content: open-quote;
  color: red
}
</pre>
</div>

<p>:beforeおよび:after疑似要素の宣言において、非継承のプロパティーは<a href="about.html#initial-value">初期値</a>を取る。</p>

<div class=example><P style="display:none">例：</P>
<p>たとえば、<a href="visuren.html#propdef-display" class="noxref"><span
class="propinst-display">'display'</span></a>プロパティーの初期値は'inline'であるため、前の例の引用符はインラインボックスとして挿入される（すなわち要素の先頭にあるテキストコンテンツと同じ行に挿入される）。次の例は、<a href="visuren.html#propdef-display" class="noxref"><span class="propinst-display">'display'</span></a>プロパティーを'block'と明示しており、そのため挿入されるテキストはブロックになる：</p>

<pre>
body:after {
    content: "The End";
    display: block;
    margin-top: 2em;
    text-align: center;
}
</pre>

</div>

<p>:beforeおよび:after疑似要素は、疑似要素があたかも疑似要素に関連付けられた要素の内部に挿入された実際の要素であるかのように、他のボックスと相互作用する。</p>

<div class="example"><P style="display:none">例：</P>
<p>たとえば、以下の文書断片とスタイルシートで：</p>
<pre>
&lt;p&gt; Text &lt;/p&gt;                   p:before { display: block; content: 'Some'; }
</pre>
<p>次の文書断片とスタイルシートとまったく同じ方法でレンダリングされる：</p>
<pre>
&lt;p&gt;&lt;span&gt;Some&lt;/span&gt; Text &lt;/p&gt;  span { display: block }
</pre>
<p>同様に、以下の文書断片とスタイルシートで：</p>
<pre>
&lt;h2&gt; Header &lt;/h2&gt;     h2:after { display: block; content: 'Thing'; }
</pre>
<p>次の文書断片とスタイルシートとまったく同じ方法でレンダリングされる：</p>
<pre>
&lt;h2&gt; Header &lt;span&gt;Thing&lt;/span&gt;&lt;/h2&gt;   h2 { display: block; }
                                      span { display: block; }
</pre>
</div>

<div class="note">
<p><strong>注。</strong>この仕様は、（HTMLのIMGのような）置換要素をもつ:beforeおよび:afterの相互作用を完全に定義しない。これは、将来の仕様書で詳細に定義されるだろう。</p>
</div>

<h2>12.2 <a name="content"></a> <a href="generate.html#propdef-content" class="noxref"><span
class="propinst-content">'content'</span></a>プロパティー</h2>

<div class="propdef">
<dl><dt>
<span class="index-def" title="'content'"><a name="propdef-content" class="propdef-title"><strong>'content'</strong></a></span>
<dd>
<table class="propinfo" cellspacing=0 cellpadding=0>
<tr valign=baseline><td><em>値：</em>&nbsp;&nbsp;</td><td>normal | none | [ <a href="syndata.html#value-def-string" class="noxref"><span class="value-inst-string">&lt;string&gt;</span></a> | <a href="syndata.html#value-def-uri" class="noxref"><span class="value-inst-uri">&lt;uri&gt;</span></a> | <a href="syndata.html#value-def-counter" class="noxref"><span class="value-inst-counter">&lt;counter&gt;</span></a> | attr(<a href="syndata.html#value-def-identifier" class="noxref"><span class="value-inst-identifier">&lt;identifier&gt;</span></a>) | open-quote | close-quote | no-open-quote | no-close-quote ]+ | <a href="cascade.html#value-def-inherit" class="noxref"><span class="value-inst-inherit">inherit</span></a>
</td></tr><tr valign=baseline><td><em>初期値：</em>&nbsp;&nbsp;</td><td>normal

</td></tr><tr valign=baseline><td><em>適用対象：</em>&nbsp;&nbsp;</td><td>:beforeおよび:after疑似要素
</td></tr><tr valign=baseline><td><em>継承：</em>&nbsp;&nbsp;</td><td>no

</td></tr><tr valign=baseline><td><em>パーセンテージ：</em>&nbsp;&nbsp;</td><td>利用不可
</td></tr><tr valign=baseline><td><em>メディア：</em>&nbsp;&nbsp;</td><td><a href="media.html#all-media-group" class="noxref">all</a>
</td></tr><tr valign=baseline><td><em>算出値：</em>&nbsp;&nbsp;</td><td>要素で、常に'normal'として計算する。:beforeおよび:afterで、'normal'が指定された場合、'none'として計算する。そうでなければ、URI値に対して絶対URI、attr()値に対して結果の文字列、他のキーワードに対して指定値に同じ。
</td></tr></table>
</dl>
</div>


<p>このプロパティーは、文書内のコンテンツを生成するために:beforeおよび:after疑似要素とともに使用される。値は次の意味を持つ：</p>

<dl>

<dt><a name="x9"><span class="index-inst" title="none"><strong>none</strong></span></a>
<dd>疑似要素を生成しない。</dd>

<dt><a name="x10"><span class="index-inst" title="normal"><strong>normal</strong></span></a>
<dd>:beforeおよび:after疑似要素を'none'として計算する。</dd>

<dt><span class="index-inst" title="&lt;string&gt;"><a name="x11" href="syndata.html#value-def-string" class="noxref"><span
class="value-inst-string"><strong>&lt;string&gt;</strong></span></a></span>
<dd>テキストコンテンツ（<a href="syndata.html#strings">文字列</a>の節を参照のこと）。

<dt><span class="index-inst" title="&lt;uri&gt;"><a name="x12" href="syndata.html#value-def-uri" class="noxref"><span
class="value-inst-uri"><strong>&lt;uri&gt;</strong></span></a></span>
<dd>この値は、（画像などの）外部リソースを指定するURIとなる。ユーザーエージェントがリソースを表示できない場合、ユーザーエージェントは、あたかも指定されていなったかのようにリソースを除外する、またはリソースを表示不能という印を表示するかのいずれかでなければならない。

<dt><span class="index-inst" title="&lt;counter&gt;"><a name="x13" href="syndata.html#value-def-counter" class="noxref"><span
class="value-inst-counter"><strong>&lt;counter&gt;</strong></span></a></span>
<dd><a href="syndata.html#counter">カウンタ</a>は、2種類の異なる関数'counter()'または'counters()'を指定してもよい。前者は2つの形式、'counter(<var>name</var>)'または'counter(<var>name</var>, <var>style</var>)'を持つ。生成されるテキストは、この疑似要素で与えられる名前の最も内側のカウンタの値となる。指定した<a href="#counter-styles">style</a>で整形される（デフォルトは'decimal'）。後者もまた2つの形式、'counters(<var>name</var>, <var>string</var>)'または'counters(<var>name</var>, <var>string</var>, <var>style</var>)'を持つ。生成されるテキストは、この疑似要素で与えられた名前の全カウンタの値で、指定された文字で区切られた最も外側から最も内側までである。カウンタは指定した<a href="#counter-styles">style</a>でレンダリングされる（デフォルトは'decimal'）。詳細は<a href="#counters">カウンタと自動番号付け</a>を参照のこと。名前は'none'、'inherit'または'initial'であってはならない。そのような名前は無視される宣言の原因となる。

<dt><span class="index-inst"
title="open-quote"><a name="x14" href="generate.html#value-def-open-quote" class="noxref"><span
class="value-inst-open-quote"><strong>open-quote</strong></span></a></span>および<span class="index-inst" title="close-quote"><a name="x15" href="generate.html#value-def-close-quote" class="noxref"><span
class="value-inst-close-quote"><strong>close-quote</strong></span></a></span>

<dd>この値は<a href="generate.html#propdef-quotes" class="noxref"><span class="propinst-quotes"><strong>'quotes'</strong></span></a>プロパティーから適切な文字列によって置き換えられる。

<dt><span class="index-inst" title="no-open-quote"><a name="x16" href="generate.html#value-def-no-open-quote" class="noxref"><span
class="value-inst-no-open-quote"><strong>no-open-quote</strong></span></a></span>および<span class="index-inst" title="no-close-quote"><a name="x17" href="generate.html#value-def-no-close-quote" class="noxref"><span
class="value-inst-no-close-quote"><strong>no-close-quote</strong></span></a></span>

<dd>何もしないが、引用レベルは増加（または減少）する。

<dt><a name="x18"><span class="index-def" title="attr()"><strong>attr(X)</strong></span></a>
<dd>この関数は、セレクタの主体に対する属性Xの値を文字列として返す。文字列はCSSプロセッサによって解析されない。セレクタの主体が属性Xを持たない場合、空文字列が返される。属性名の大小文字の区別は文書言語に依存する。 
</dl>

<div class="note">
<strong>注。</strong> CSS&nbsp;2.2において、セレクタの主体とならない要素の持つ属性値は参照できない。
</div>


<P><a href="visuren.html#propdef-display" class="noxref"><span class="propinst-display">'display'</span></a>プロパティーは、コンテンツがブロックまたはインラインボックスに置かれるかどうかを制御する。

<div class="example"><P style="display:none">例：</P><p>次の規則は、文字列"Chapter: "を各H1要素の前に生成する：</p>

<pre>
H1:before { 
  content: "Chapter: ";
  display: inline;
}
</pre>
</div>

<p>著者は、<a href="generate.html#propdef-content" class="noxref"><span
class="propinst-content">'content'</span></a>プロパティーの後の文字列のいずれかで"\A"エスケープシーケンスを記述することによって、生成されるコンテンツで改行を含んでもよい。この挿入される改行は、依然として<a href="text.html#propdef-white-space" class="noxref"><span
class="propinst-white-space">'white-space'</span></a>プロパティーの影響下にある。"\A"エスケープシーケンスについての詳細は<a
href="syndata.html#strings">文字列</a>および<a
href="syndata.html#escaped-characters">文字列と活字ケース</a>を参照のこと。

<div class="example"><P style="display:none">例：</P><P>

<PRE>
h1:before {
    display: block;
    text-align: center;
    white-space: pre;
    content: "chapter\A hoofdstuk\A chapitre"
}
</pre>
</div>

<P>生成されるコンテンツは、文書ツリーを変更しない。特に、文書言語のプロセッサにフィードバックされることはない（たとえば、再解析）。

<h2>12.3 <a name="quotes">引用符</a></h2>

<P>CSS&nbsp;2.2において、スタイルに影響されかつコンテキストに依存した方法で、どのようにユーザーエージェントが引用符をレンダリングするかを、著者は指定してもよい。<a href="generate.html#propdef-quotes" class="noxref"><span class="propinst-quotes">'quotes'</span></a>プロパティーは、埋め込まれた引用箇所の各レベルに対する引用符のペアを指定する。<a href="generate.html#propdef-content" class="noxref"><span class="propinst-content">'content'</span></a>プロパティーは、その引用符へのアクセスを提供し、引用符を引用箇所の前後に挿入する。

<H3>12.3.1 <a href="generate.html#propdef-quotes" class="noxref"><span
class="propinst-quotes">'quotes'</span></a>プロパティーで<a name="quotes-specify">引用符を指定する</a></H3>

<div class="propdef">
<dl><dt>
<span class="index-def" title="'quotes'"><a name="propdef-quotes" class="propdef-title"><strong>'quotes'</strong></a></span>
<dd>
<table class="propinfo" cellspacing=0 cellpadding=0>
<tr valign=baseline><td><em>値：</em>&nbsp;&nbsp;</td><td>[<a href="syndata.html#value-def-string" class="noxref"><span class="value-inst-string">&lt;string&gt;</span></a> <a href="syndata.html#value-def-string" class="noxref"><span class="value-inst-string">&lt;string&gt;</span></a>]+ | none | <a href="cascade.html#value-def-inherit" class="noxref"><span class="value-inst-inherit">inherit</span></a>
</td></tr><tr valign=baseline><td><em>初期値：</em>&nbsp;&nbsp;</td><td>ユーザーエージェントに依存
</td></tr><tr valign=baseline><td><em>適用対象：</em>&nbsp;&nbsp;</td><td>すべての要素
</td></tr><tr valign=baseline><td><em>継承：</em>&nbsp;&nbsp;</td><td>yes

</td></tr><tr valign=baseline><td><em>パーセンテージ：</em>&nbsp;&nbsp;</td><td>利用不可
</td></tr><tr valign=baseline><td><em>メディア：</em>&nbsp;&nbsp;</td><td><a href="media.html#visual-media-group" class="noxref">visual</a>
</td></tr><tr valign=baseline><td><em>算出値：</em>&nbsp;&nbsp;</td><td>指定される
</td></tr></table>
</dl>
</div>


<P>このプロパティーは、任意の数の埋め込まれた引用箇所に対して引用符を指定する。値は次の意味を持つ：</p>

<dl>
<dt><strong>none</strong>

<dd><a href="generate.html#propdef-content" class="noxref"><span class="propinst-content">'content'</span></a>プロパティーの'open-quote'および'close-quote'値は引用符を生成しない。

<dt>[<span class="index-inst" title="&lt;string&gt;"><a name="x20" href="syndata.html#value-def-string" class="noxref"><span
class="value-inst-string"><strong>&lt;string&gt;</strong></span></a></span>
&nbsp;<span class="index-inst" title="&lt;string&gt;"><a name="x21" href="syndata.html#value-def-string" class="noxref"><span
class="value-inst-string"><strong>&lt;string&gt;</strong></span></a></span>]+



<dd><a href="generate.html#propdef-content" class="noxref"><span class="propinst-content">'content'</span></a>プロパティーの'open-quote'および'close-quote'値に対する値は、このリストから（開きと閉じ）引用符のペアが選ばれる。最初（最も左の）ペアは引用の最も外側のレベルを表し、2番目のペアは埋め込みの1番目のレベルを表す。ユーザーエージェントは、埋め込みのレベルに応じて引用符の適切なペアを適用しなければならない。
</dl>


<div class="example"><P style="display:none">例：</P>
<P>たとえば、次のスタイルシートを：</p>

<PRE class="example">
/* 2言語の2レベルの引用符のペアを指定する */
q:lang(en) { quotes: '"' '"' "'" "'" }
q:lang(no) { quotes: "«" "»" '"' '"' }

/* Q 要素のコンテンツの前後に引用符を挿入する */
q:before { content: open-quote }
q:after  { content: close-quote }
</PRE>

<P>以下のHTML断片に適用すると：</p>

<PRE class="html-example">
&lt;HTML lang="en"&gt;
  &lt;HEAD&gt;
  &lt;TITLE&gt;Quotes&lt;/TITLE&gt;
  &lt;/HEAD&gt;
  &lt;BODY&gt;
    &lt;P&gt;&lt;Q&gt;Quote me!&lt;/Q&gt;
  &lt;/BODY&gt;
&lt;/HTML&gt;
</PRE>

<P>ユーザーエージェントはこのように引用符を生成する：</p>

<PRE class="ascii-art">
"Quote me!"
</PRE>

<P>一方このようなHTML断片では：</p>

<PRE class="html-example">
&lt;HTML lang="no"&gt;
  &lt;HEAD&gt;
  &lt;TITLE&gt;Quotes&lt;/TITLE&gt;
  &lt;/HEAD&gt;
  &lt;BODY&gt;
    &lt;P&gt;&lt;Q&gt;Trøndere gråter når &lt;Q&gt;Vinsjan på kaia&lt;/Q&gt; blir deklamert.&lt;/Q&gt;
  &lt;/BODY&gt;
&lt;/HTML&gt;
</PRE>

<P>このようになる：</p>

<PRE class="ascii-art">
«Trøndere gråter når "Vinsjan på kaia" blir deklamert.»
</PRE>
</div>

<div class="note"><P>
<em><strong>注。</strong> 前の例で<a href="generate.html#propdef-quotes" class="noxref"><span
class="propinst-quotes">'quotes'</span></a>によって指定される引用符は、便利なことにコンピュータのキーボード上に配置されている一方で、高品質な組版はさまざまなISO 10646の文字が必要になるだろう。以下の参考情報の表はISO 10646の引用符文字の一部である：</em></p>

<TABLE border>
<TR><TH>文字</TH><TH>近似レンダリング</TH><TH>ISO 10646コード（16進数）</TH><TH>説明
</TH></TR><TR><TD>"</TD><TD>"</TD><TD>0022</TD><TD>QUOTATION MARK [the ASCII double quotation mark]

</TD></TR><TR><TD>'</TD><TD>'</TD><TD>0027</TD><TD>APOSTROPHE     [the ASCII single quotation mark]

</TD></TR><TR><TD>‹</TD><TD>&lt;</TD><TD>2039</TD><TD>SINGLE LEFT-POINTING ANGLE QUOTATION MARK

</TD></TR><TR><TD>›</TD><TD>&gt;</TD><TD>203A</TD><TD>SINGLE RIGHT-POINTING ANGLE QUOTATION MARK

</TD></TR><TR><TD>«</TD><TD>«</TD><TD>00AB</TD><TD>LEFT-POINTING DOUBLE ANGLE QUOTATION MARK

</TD></TR><TR><TD>»</TD><TD>»</TD><TD>00BB</TD><TD>RIGHT-POINTING DOUBLE ANGLE QUOTATION MARK

</TD></TR><TR><TD>‘</TD><TD>`</TD><TD>2018</TD><TD>LEFT SINGLE QUOTATION MARK [single high-6]

</TD></TR><TR><TD>’</TD><TD>'</TD><TD>2019</TD><TD>RIGHT SINGLE QUOTATION MARK [single high-9]

</TD></TR><TR><TD>“</TD><TD>``</TD><TD>201C</TD><TD>LEFT DOUBLE QUOTATION MARK  [double high-6]

</TD></TR><TR><TD>”</TD><TD>''</TD><TD>201D</TD><TD>RIGHT DOUBLE QUOTATION MARK [double high-9]

</TD></TR><TR><TD>„</TD><TD>,,</TD><TD>201E</TD><TD>DOUBLE LOW-9 QUOTATION MARK [double low-9]

</TD></TR></TABLE>
</div>


<H3>12.3.2 <a href="generate.html#propdef-content" class="noxref"><span
class="propinst-content">'content'</span></a>プロパティーで<a name="quotes-insert">引用符を挿入する</a></H3>

<p>引用符は、<a href="generate.html#propdef-content" class="noxref"><span class="propinst-content">'content'</span></a>プロパティーの<span class="index-def" title="open-quote"><a
class="value-def" name="value-def-open-quote">'open-quote'</a></span>または<span class="index-def" title="close-quote"><a class="value-def"
name="value-def-close-quote">'close-quote'</a></span>値によって文書の適切な位置に挿入される。'open-quote'または'close-quote'のそれぞれの出現は、入れ子の深さに基づき、<a href="generate.html#propdef-quotes" class="noxref"><span
class="propinst-quotes">'quotes'</span></a>の値から文字列の1つと置き換わる。

<p>'open-quote'は1組の引用符の1つ目を、'close-quote'は2つ目を参照する。どの引用符の組を用いるかは、引用の入れ子レベルに依存する。すべての'open-quote'の出現回数は現在の出現前のテキストが生成され、'close-quote'の出現回数を引いたものである。深さが0である場合、最初の組が使用され、深さが1である場合、2つ目の組が用いられる。深さがペア数より多い場合、最後のペアが繰り返される。深さが負になる'close-quote'または'no-close-quote'は、誤ったものであり（レンダリング時に）無視される。深さが0のままであり、引用符はレンダリングされない（'content'プロパティーの値の残りがまだ書きこまれているにもかかわらず）。


<div class="note"><p>
<em><strong>注。</strong>引用の深さは、ソース文書や書式構造のネストとは無関係である。</em>
</p></div>

<p>一部の活版印刷スタイルは、複数の段落にまたがる引用の段落ごとの前に繰り返される開始引用符を要求するが、最後の段落は終了引用符のみで終了する。CSSにおいて、実体のない終了引用符を挿入することによってこれを実現可能である。キーワード<span class="index-def" title="no-close-quote"><a
class="value-def"
name="value-def-no-close-quote">'no-close-quote'</a></span>は、引用レベルを減らすが、引用符を挿入しない。


<div class="example"><P style="display:none">例：</P>
<p>次のスタイルシートはBLOCKQUOTE内のすべての段落で開始引用符を置き、最後に単一の終了引用符を挿入する：

<pre>
blockquote p:before     { content: open-quote }
blockquote p:after      { content: no-close-quote }
blockquote p.last:after { content: close-quote }
</pre>

<P>これは、クラス"last"のマーク付けがされた最終段落に依存する。
</div>

<p>同様に、<span class="index-def"
title="no-open-quote"><a class="value-def"
name="value-def-no-open-quote">'no-open-quote'</a></span>キーワードも何も挿入しないが、引用深さを1だけ増やす。


<h2>12.4 自動<span class="index-def" title="counters"><a
name="counters">カウンタ</a></span>と番号付け</h2>

<p>CSS&nbsp;2.2における自動番号付けは、<a href="generate.html#propdef-counter-increment" class="noxref"><span class="propinst-counter-increment">'counter-increment'</span></a>と<a href="generate.html#propdef-counter-reset" class="noxref"><span class="propinst-counter-reset">'counter-reset'</span></a>の2つのプロパティーで制御される。これらのプロパティーによって定義されたカウンタは、<a href="generate.html#propdef-content" class="noxref"><span
class="propinst-content">'content'</span></a>プロパティーのcounter()およびcounters()関数とともに使用される。

<div class="propdef">
<dl><dt>
<span class="index-def" title="'counter-reset'"><a name="propdef-counter-reset" class="propdef-title"><strong>'counter-reset'</strong></a></span>
<dd>
<table class="propinfo" cellspacing=0 cellpadding=0>
<tr valign=baseline><td><em>値：</em>&nbsp;&nbsp;</td><td>[ <a href="syndata.html#value-def-identifier" class="noxref"><span class="value-inst-identifier">&lt;identifier&gt;</span></a> <a href="syndata.html#value-def-integer" class="noxref"><span class="value-inst-integer">&lt;integer&gt;</span></a>? ]+ | none | <a href="cascade.html#value-def-inherit" class="noxref"><span class="value-inst-inherit">inherit</span></a>
</td></tr><tr valign=baseline><td><em>初期値：</em>&nbsp;&nbsp;</td><td>none

</td></tr><tr valign=baseline><td><em>適用対象：</em>&nbsp;&nbsp;</td><td>すべての要素
</td></tr><tr valign=baseline><td><em>継承：</em>&nbsp;&nbsp;</td><td>no

</td></tr><tr valign=baseline><td><em>パーセンテージ：</em>&nbsp;&nbsp;</td><td>利用不可
</td></tr><tr valign=baseline><td><em>メディア：</em>&nbsp;&nbsp;</td><td><a href="media.html#all-media-group" class="noxref">all</a>
</td></tr><tr valign=baseline><td><em>算出値：</em>&nbsp;&nbsp;</td><td>指定される
</td></tr></table>
</dl>
</div>

<div class="propdef">
<dl><dt>
<span class="index-def" title="'counter-increment'"><a name="propdef-counter-increment" class="propdef-title"><strong>'counter-increment'</strong></a></span>
<dd>
<table class="propinfo" cellspacing=0 cellpadding=0>
<tr valign=baseline><td><em>値：</em>&nbsp;&nbsp;</td><td>[ <a href="syndata.html#value-def-identifier" class="noxref"><span class="value-inst-identifier">&lt;identifier&gt;</span></a> <a href="syndata.html#value-def-integer" class="noxref"><span class="value-inst-integer">&lt;integer&gt;</span></a>? ]+ | none | <a href="cascade.html#value-def-inherit" class="noxref"><span class="value-inst-inherit">inherit</span></a>
</td></tr><tr valign=baseline><td><em>初期値：</em>&nbsp;&nbsp;</td><td>none

</td></tr><tr valign=baseline><td><em>適用対象：</em>&nbsp;&nbsp;</td><td>すべての要素
</td></tr><tr valign=baseline><td><em>継承：</em>&nbsp;&nbsp;</td><td>no

</td></tr><tr valign=baseline><td><em>パーセンテージ：</em>&nbsp;&nbsp;</td><td>利用不可
</td></tr><tr valign=baseline><td><em>メディア：</em>&nbsp;&nbsp;</td><td><a href="media.html#all-media-group" class="noxref">all</a>
</td></tr><tr valign=baseline><td><em>算出値：</em>&nbsp;&nbsp;</td><td>指定される
</td></tr></table>
</dl>
</div>


<p><a href="generate.html#propdef-counter-increment" class="noxref"><span
class="propinst-counter-increment">'counter-increment'</span></a>プロパティーは、1つ以上のカウンタの名前（識別子）、オプションで各カウンタの後に整数を受け入れる。整数は、どのくらいカウンタが要素の出現ごとに増やされるかを示す。デフォルトの増加値は1である。0と負の整数は許可される。

<p><a href="generate.html#propdef-counter-reset" class="noxref"><span class="propinst-counter-reset">'counter-reset'</span></a>プロパティーも、1つ以上のカウンタ名、オプションで各カウンタ名に続く整数値を含む。整数は、カウンタが要素の出現ごとに設定される値を与える。デフォルトは0である。

<p>キーワード'none'、'inherit'、'initial'は、カウンタ名として使用してはならない。'none'の値はそのままでカウンタがリセットされないことを意味し、それぞれインクリメントされる。'Inherit'はそのままで通常の意味を持つ（<a href="cascade.html#value-def-inherit">6.2.1節</a>参照）。'Initial'は将来のために予約される。

<div class="example"><P style="display:none">例：</P>
<p>この例は、"Chapter 1"、"1.1"、"1.2"などの章や節の番号を付ける方法を示す：

<pre>
BODY {
    counter-reset: chapter;      /* 章のカウンタ範囲を作成 */
}
H1:before {
    content: "Chapter " counter(chapter) ". ";
    counter-increment: chapter;  /* 章を1から加える */
}
H1 {
    counter-reset: section;      /* 0節を設定 */
}
H2:before {
    content: counter(chapter) "." counter(section) " ";
    counter-increment: section;
}
</pre>
</div>

<p>要素がカウンタのインクリメントまたはリセットをし、またそれを（その:beforeまたは:after疑似要素の<a href="generate.html#propdef-content" class="noxref"><span class="propinst-content">'content'</span></a>プロパティーで）使用する場合、カウンタはリセットまたはインクリメントされた<em>後に</em>使用される。

<p>要素がカウンタをリセットもインクリメントも両方する場合、カウンタは最初にリセットし、それからインクリメントする。

<p>同じカウンタが<a href="generate.html#propdef-counter-reset" class="noxref"><span class="propinst-counter-reset">'counter-reset'</span></a>と<a href="generate.html#propdef-counter-increment" class="noxref"><span
class="propinst-counter-increment">'counter-increment'</span></a>プロパティーの値で1回以上指定される場合、カウンタのリセットまたはインクリメントは指定された順番で処理される。

<div class="example"><P style="display:none">例：</P>
<p>以下の例は'section'カウンタを0にリセットする：

<pre>
H1 { counter-reset: section 2 section }
</pre>

<p>以下の例は'chapter'カウンタを3ずつインクリメントする：

<pre>
H1 { counter-increment: chapter chapter 2 }
</pre>
</div>




<P><a href="generate.html#propdef-counter-reset" class="noxref"><span class="propinst-counter-reset">'counter-reset'</span></a>プロパティーはカスケード規則の後に続く。したがって、カスケードによって、以下のスタイルシートは：</p>

<pre class="example">
H1 { counter-reset: section -1 }
H1 { counter-reset: imagenum 99 }
</pre>

<p>'imagenum'のみリセットする。両方のカウンタをリセットするためには、同時に指定する必要がある：</p>

<pre class="example">
H1 { counter-reset: section -1 imagenum 99 }
</pre>

<h3>12.4.1 <a name="scope">カウンタのネストと範囲</a></h3>

<p>カウンタは、子孫要素または疑似要素でカウンタをリセットすることが自動的にカウンタの新しいインスタンスを作成するという意味で、"自己ネスト"である。要素が任意の深さに自分自身の内側にネストすることができる所で、HTMLにおけるリストのような状況にとって、これは重要である。各レベルごとに一意の名前のカウンタを定義することは不可能だろう。

<div class="example"><P style="display:none">例：</P>
<p>したがって、以下はネストされたリスト項目に番号付けするのに十分である。'display:list-item'とLI要素の'list-style: inside'の結果は、非常に似ている。

<pre>
OL { counter-reset: item }
LI { display: block }
LI:before { content: counter(item) ". "; counter-increment: item }
</pre>
</div>

<p>カウンタの<a name="x29"><span class="index-def" title="scope"><dfn>範囲</dfn></span></a>は、そのカウンタに対する<a href="generate.html#propdef-counter-reset" class="noxref"><span class="propinst-counter-reset">'counter-reset'</span></a>を持ち、かつ要素の子孫と子孫をもつその要素の弟を含む文書内の最初の要素から始まる。しかし、要素は要素の弟の'counter-reset'や同じ要素の後の'counter-reset'によって作成された同じ名前をもつカウンタの範囲内の任意の要素は含まれない。

<p>要素または疑似要素の<a href="generate.html#propdef-counter-increment" class="noxref"><span
class="propinst-counter-increment">'counter-increment'</span></a>または<a href="generate.html#propdef-content" class="noxref"><span
class="propinst-content">'content'</span></a>が任意の<a href="generate.html#propdef-counter-reset" class="noxref"><span class="propinst-counter-reset">'counter-reset'</span></a>の範囲にないカウンタ参照する場合、<a href="generate.html#propdef-counter-reset" class="noxref"><span
class="propinst-counter-reset">'counter-reset'</span></a>がその要素または疑似要素でカウンタを0にリセットされたかのように実装は動作すべきである。

<p>上の例において、OLはカウンタを作成し、OLのすべての子供はそのカウンタを参照する。

<div class="html-example"> <p>item[n]によってn<sup>番目</sup>の"item"カウンタのインスタンスを表し、かつ"{"と"}"によって範囲の開始と終了を表す場合、次のHTML断片は指定されたカウンタを使用する。（上記の例で与えられたスタイルシートと仮定する）。

<pre>
&lt;OL&gt;                    &lt;!-- {item[0]=0        --&gt;
  &lt;LI&gt;item&lt;/LI&gt;         &lt;!--  item[0]++ (=1)   --&gt;
  &lt;LI&gt;item              &lt;!--  item[0]++ (=2)   --&gt;
    &lt;OL&gt;                &lt;!--  {item[1]=0       --&gt;
      &lt;LI&gt;item&lt;/LI&gt;     &lt;!--   item[1]++ (=1)  --&gt;
      &lt;LI&gt;item&lt;/LI&gt;     &lt;!--   item[1]++ (=2)  --&gt;
      &lt;LI&gt;item          &lt;!--   item[1]++ (=3)  --&gt;
        &lt;OL&gt;            &lt;!--   {item[2]=0      --&gt;
          &lt;LI&gt;item&lt;/LI&gt; &lt;!--    item[2]++ (=1) --&gt;
        &lt;/OL&gt;           &lt;!--                   --&gt;
        &lt;OL&gt;            &lt;!--   }{item[2]=0     --&gt;
          &lt;LI&gt;item&lt;/LI&gt; &lt;!--    item[2]++ (=1) --&gt;
        &lt;/OL&gt;           &lt;!--                   --&gt;
      &lt;/LI&gt;             &lt;!--   }               --&gt;
      &lt;LI&gt;item&lt;/LI&gt;     &lt;!--   item[1]++ (=4)  --&gt;
    &lt;/OL&gt;               &lt;!--                   --&gt;
  &lt;/LI&gt;                 &lt;!--  }                --&gt;
  &lt;LI&gt;item&lt;/LI&gt;         &lt;!--  item[0]++ (=3)   --&gt;
  &lt;LI&gt;item&lt;/LI&gt;         &lt;!--  item[0]++ (=4)   --&gt;
&lt;/OL&gt;                   &lt;!--                   --&gt;
&lt;OL&gt;                    &lt;!-- }{item[0]=0       --&gt;
  &lt;LI&gt;item&lt;/LI&gt;         &lt;!--  item[0]++ (=1)   --&gt;
  &lt;LI&gt;item&lt;/LI&gt;         &lt;!--  item[0]++ (=2)   --&gt;
&lt;/OL&gt;                   &lt;!--                   --&gt;
</pre>
</div>

<div class="example"><P style="display:none">例：</P>
<p>カウンタがネストされない要素で使用される場合、範囲がどのように機能するかを示す別の例は、次のとおりである。章および節を番号付けするために上記で与えられるスタイル規則が、与えられるマークアップにどのように適用されるかを示す。

<pre>
                     &lt;!--"chapter" counter|"section" counter --&gt;
&lt;body&gt;               &lt;!-- {chapter=0      |                  --&gt;
  &lt;h1&gt;About CSS&lt;/h1&gt; &lt;!--  chapter++ (=1) | {section=0       --&gt;
  &lt;h2&gt;CSS 2&lt;/h2&gt;     &lt;!--                 |  section++ (=1)  --&gt;
  &lt;h2&gt;CSS 2.2&lt;/h2&gt;   &lt;!--                 |  section++ (=2)  --&gt;
  &lt;h1&gt;Style&lt;/h1&gt;     &lt;!--  chapter++ (=2) |}{ section=0      --&gt;
&lt;/body&gt;              &lt;!--                 | }                --&gt;
</pre>

</div>

<p>'counters()'関数は、与えられる文字列によって区切られた、範囲内にある同じ名前を持つすべてのカウンタで構成される文字列を生成する。

<div class="example"><P style="display:none">例：</P><P>
<P>次のスタイルシートは、"1"、"1.1"、"1.1.1"などとしてネストされるリスト項目を番号付けする。

<PRE>
OL { counter-reset: item }
LI { display: block }
LI:before { content: counters(item, ".") " "; counter-increment: item }
</PRE>
</div>

<h3>12.4.2 <a name="counter-styles">カウンタスタイル</a></h3>

<p>デフォルトで、カウンタは10進数で整形されるが、<a href="generate.html#propdef-list-style-type" class="noxref"><span
class="propinst-list-style-type">'list-style-type'</span></a>プロパティーに使用可能なすべてのスタイルは、カウンタにも利用できる。記法は以下のとおり：</P>

<pre>
counter(<var>name</var>)
</pre>
<p>これがデフォルトである。または：</p>

<pre>
counter(<var>name</var>, &lt;<a href="generate.html#propdef-list-style-type" class="noxref"><span class="propinst-list-style-type">'list-style-type'</span></a>&gt;)
</pre>

<p>'disc'、'circle'、'square'、'none'を含むすべてのスタイルが許可される。

<div class="example"><P style="display:none">例：</P><P>

<pre>
H1:before        { content: counter(chno, upper-latin) ". " }
H2:before        { content: counter(section, upper-roman) " - " }
BLOCKQUOTE:after { content: " [" counter(bq, lower-greek) "]" }
DIV.note:before  { content: counter(notecntr, disc) " " }
P:before         { content: counter(p, none) }
</pre>
</div>


<h3>12.4.3 <a name="undisplayed-counters">'display: none'をもつ要素におけるカウンタ</a></h3>

<p>（<a href="visuren.html#propdef-display" class="noxref"><span
class="propinst-display">'display'</span></a>が'none'に設定される）表示されない要素は、カウンタのインクリメントまたはリセットを行うことができない。

<div class="example"><P style="display:none">例：</P>
<p>たとえば、次のスタイルシートのために、class "secret"をもつH2要素は、'count2'をインクリメントしない：

<pre>
H2.secret {counter-increment: count2; display: none}
</pre>
</div>

<p>生成されない疑似要素もまた、カウンタをインクリメントまたはリセットすることができない。

<div class="example"><P style="display:none">例：</P>
<p>たとえば、以下は'heading'をインクリメントしない：

<pre>
h1::before {
    content: normal;
    counter-increment: heading;
}
</pre>
</div>

<p>一方、'hidden'に設定される<a href="visufx.html#propdef-visibility" class="noxref"><span class="propinst-visibility">'visibility'</span></a>をもつ要素は、カウンタをインクリメント<em>する</em>。



<h2>12.5 <a name="lists">リスト</a></h2>

<P>CSS&nbsp;2.2は、基本的なリストの視覚整形を提供する。'display: list-item'をもつ要素は、要素のコンテンツに対して<a
href="visuren.html#principal-box">主要ブロックボックス</a>を生成し、場合により'list-style-type'および'list-style-image'の値に依存する、リスト項目である視覚的表示としてのマーカーボックスもまた生成する。

<P><a name="x30"><span class="index-def" title="list properties"><dfn>リストプロパティー</dfn></span></a>はリストの基本的な視覚整形を説明する。これはスタイルシートにマーカータイプ（画像、グリフ、または数字）および、主要ボックスに対するマーカーの位置（外側かコンテンツの前か）の指定を可能にする。リストプロパティーは、著者がリストマーカーの異なるスタイル（色、フォント、配置など）を指定することや、主要ボックスに対する位置を調整することはできない。これは主要ボックスから派生させてもよい。

<P><a href="colors.html#background-properties">背景プロパティー</a>は主要ボックスにのみ適用する。'outside'マーカーボックスは透明である。
 

<h3>12.5.1 <a name="list-style">リスト：</a><a href="generate.html#propdef-list-style-type" class="noxref"><span
class="propinst-list-style-type">'list-style-type'</span></a>、<a href="generate.html#propdef-list-style-image" class="noxref"><span
class="propinst-list-style-image">'list-style-image'</span></a>、<a href="generate.html#propdef-list-style-position" class="noxref"><span
class="propinst-list-style-position">'list-style-position'</span></a>、<a href="generate.html#propdef-list-style" class="noxref"><span class="propinst-list-style">'list-style'</span></a>プロパティー</h3>


<div class="propdef">
<dl><dt>
<span class="index-def" title="'list-style-type'"><a name="propdef-list-style-type" class="propdef-title"><strong>'list-style-type'</strong></a></span>
<dd>
<table class="propinfo" cellspacing=0 cellpadding=0>
<tr valign=baseline><td><em>値：</em>&nbsp;&nbsp;</td><td>disc | circle | square | decimal | decimal-leading-zero | 
 lower-roman | upper-roman | lower-greek |
 lower-latin | upper-latin | armenian | georgian |
 lower-alpha | upper-alpha |
 none | <a href="cascade.html#value-def-inherit" class="noxref"><span class="value-inst-inherit">inherit</span></a>
</td></tr><tr valign=baseline><td><em>初期値：</em>&nbsp;&nbsp;</td><td>disc

</td></tr><tr valign=baseline><td><em>適用対象：</em>&nbsp;&nbsp;</td><td>'display: list-item'をもつ要素
</td></tr><tr valign=baseline><td><em>継承：</em>&nbsp;&nbsp;</td><td>yes

</td></tr><tr valign=baseline><td><em>パーセンテージ：</em>&nbsp;&nbsp;</td><td>利用不可
</td></tr><tr valign=baseline><td><em>メディア：</em>&nbsp;&nbsp;</td><td><a href="media.html#visual-media-group" class="noxref">visual</a>
</td></tr><tr valign=baseline><td><em>算出値：</em>&nbsp;&nbsp;</td><td>指定される
</td></tr></table>
</dl>
</div>


<P> このプロパティーは、<a href="generate.html#propdef-list-style-image" class="noxref"><span class="propinst-list-style-image">'list-style-image'</span></a>が値'none'を持つ、またはURIで指示する画像が表示できない場合にリスト項目マーカーの外観を指定する。値'none'はマーカーを指定しない。そうでなければ、グリフ、数字方式、アルファベット方式の3種類のマーカーとなる。 

<P>グリフは<strong><span class="index-def" title="disc"><a class="value-def"
name="value-def-disc">disc</a></span></strong>、<strong><span class="index-def" title="circle"><a class="value-def"
name="value-def-circle">circle</a></span></strong>、<strong><span class="index-def" title="square"><a class="value-def"
name="value-def-square">square</a></span></strong>を指定する。これらの正確なレンダリングはユーザーエージェントに依存する。

<P>数字方式は以下のとおり：</P>

<dl>

<dt><span class="index-def" title="decimal"><a class="value-def" name="value-def-decimal"><strong>decimal</strong></a></span><dd>10進数、1から始める。

<dt><strong><span class="index-def" title="decimal-leading-zero"><a class="value-def" name="value-def-decimal-leading-zero">decimal-leading-zero</a></span></strong>
<dd>冒頭を0で詰め物をした10進数（たとえば、01, 02, 03, ..., 98, 99）。



<dt><strong><span class="index-def" title="lower-roman"><a class="value-def" name="value-def-lower-roman">lower-roman</a></span></strong>
<dd>小文字のローマ数字（i, ii, iii, iv, v, など）。

<dt><strong><span class="index-def" title="upper-roman"><a class="value-def" name="value-def-upper-roman">upper-roman</a></span></strong>
<dd>大文字のローマ数字（I, II, III, IV, V, など）。

<dt><strong><span class="index-def" title="georgian"><a class="value-def" name="value-def-georgian">georgian</a></span></strong>
<dd>伝統的なグルジア数字（an, ban, gan, ..., he, tan, in, in-an, ...）。
<dt><strong><span class="index-def" title="armenian"><a class="value-def" name="value-def-armenian">armenian</a></span></strong>
<dd>伝統的なアルメニア数字。
</dl>


<P>アルファベット方式は以下のとおり：</P>

<dl>
<dt><strong><span class="index-def" title="lower-latin"><a class="value-def" name="value-def-lower-latin">lower-latin</a></span></strong>または<strong>lower-alpha</strong>
<dd>小文字のアスキー（a, b, c, ... z）。
<dt><strong><span class="index-def" title="upper-latin"><a class="value-def" name="value-def-upper-latin">upper-latin</a></span></strong>または<strong>upper-alpha</strong>
<dd>大文字のアスキー（A, B, C, ... Z）。
<dt><strong><span class="index-def" title="lower-greek"><a class="value-def" name="value-def-lower-greek">lower-greek</a></span></strong>
<dd>小文字の古代ギリシャ文字。アルファ、ベータ、ガンマ...（α, β, γ, ...）
</dl>

<P>この仕様は、アルファベットの終わりでどのようにアルファベットシステムの折り返しをするか定義しない。たとえば、26リスト項目のあとで、'lower-latin'のレンダリングは未定義である。したがって、長いリストでは、著者が本物の数字を指定することを推奨する。

<p>CSS&nbsp;2.2は、どのようにリスト番号がリセットされ、インクリメントされるかを定義しない。これはCSS List Moduleで定義されることが期待される<a href="refs.html#ref-CSS3LIST" rel="biblioentry" class="noxref"><span class="informref">[CSS3LIST]</span></a>。

<div class="html-example"><P>
たとえば、以下のHTML文書で：

<PRE>
&lt;!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN"&gt;
&lt;HTML&gt;
   &lt;HEAD&gt;
     &lt;TITLE&gt;Lowercase latin numbering&lt;/TITLE&gt;
     &lt;STYLE type="text/css"&gt;
          ol { list-style-type: lower-roman }
     &lt;/STYLE&gt;
  &lt;/HEAD&gt;
  &lt;BODY&gt;
    &lt;OL&gt;
      &lt;LI&gt; This is the first item.
      &lt;LI&gt; This is the second item.
      &lt;LI&gt; This is the third item.
    &lt;/OL&gt;
  &lt;/BODY&gt;
&lt;/HTML&gt;
</PRE>

<P>これは次のように整形されるだろう：

<PRE>
  i This is the first item.
 ii This is the second item.
iii This is the third item.
</PRE>

<P>リストマーカーの揃え（ここでは、右揃え）はユーザーエージェントに依存する。

</div>


<div class="propdef">
<dl><dt>
<span class="index-def" title="'list-style-image'"><a name="propdef-list-style-image" class="propdef-title"><strong>'list-style-image'</strong></a></span>
<dd>
<table class="propinfo" cellspacing=0 cellpadding=0>
<tr valign=baseline><td><em>値：</em>&nbsp;&nbsp;</td><td><a href="syndata.html#value-def-uri" class="noxref"><span class="value-inst-uri">&lt;uri&gt;</span></a> | none | <a href="cascade.html#value-def-inherit" class="noxref"><span class="value-inst-inherit">inherit</span></a>
</td></tr><tr valign=baseline><td><em>初期値：</em>&nbsp;&nbsp;</td><td>none

</td></tr><tr valign=baseline><td><em>適用対象：</em>&nbsp;&nbsp;</td><td>'display: list-item'をもつ要素
</td></tr><tr valign=baseline><td><em>継承：</em>&nbsp;&nbsp;</td><td>yes

</td></tr><tr valign=baseline><td><em>パーセンテージ：</em>&nbsp;&nbsp;</td><td>利用不可
</td></tr><tr valign=baseline><td><em>メディア：</em>&nbsp;&nbsp;</td><td><a href="media.html#visual-media-group" class="noxref">visual</a>
</td></tr><tr valign=baseline><td><em>算出値：</em>&nbsp;&nbsp;</td><td>絶対URIまたは'none'
</td></tr></table>
</dl>
</div>


<P> このプロパティーは、リスト項目マーカーとして用いる画像を設定する。画像が利用可能の場合、<a href="generate.html#propdef-list-style-type" class="noxref"><span
class="propinst-list-style-type">'list-style-type'</span></a>で設定したマーカーと置き換える。

<p>画像の大きさは以下の規則より計算される：
<ol>
<li>画像が固有の幅と高さを持つ場合、使用幅と高さは固有の幅と高さになる。

</li><li>そうでなければ、画像が固有比と、固有幅または固有高さのいずれかを持つ場合、使用幅または高さが供給される固有幅または高さと同じで、不足する寸法の使用値が供給される寸法と比から計算される。

</li><li>そうでなければ、画像が固有比を持つ場合、使用幅は1emで、使用高さはこの幅と固有比から計算される。これが1emよりも大きな高さを生成したい場合、使用高さは1emの代わりに設定され、使用幅はこの高さと固有比から計算される。

</li><li>そうでなければ、固有幅あるいは1emを持つ場合、画像の使用幅は固有幅となる。固有高さあるいは1emを持つ場合、画像の使用高さはその固有高さである。
</li></ol>

<div class="example"><P style="display:none">例：</P><P>
以下の例は、画像"ellipse.png"を各リスト項目の先頭にマーカーとして設定する。


<PRE>
ul { list-style-image: url("http://png.com/ellipse.png") }
</PRE>
</div>

<div class="propdef">
<dl><dt>
<span class="index-def" title="'list-style-position'"><a name="propdef-list-style-position" class="propdef-title"><strong>'list-style-position'</strong></a></span>
<dd>
<table class="propinfo" cellspacing=0 cellpadding=0>
<tr valign=baseline><td><em>値：</em>&nbsp;&nbsp;</td><td>inside | outside | <a href="cascade.html#value-def-inherit" class="noxref"><span class="value-inst-inherit">inherit</span></a>
</td></tr><tr valign=baseline><td><em>初期値：</em>&nbsp;&nbsp;</td><td>outside

</td></tr><tr valign=baseline><td><em>適用対象：</em>&nbsp;&nbsp;</td><td>'display: list-item'をもつ要素
</td></tr><tr valign=baseline><td><em>継承：</em>&nbsp;&nbsp;</td><td>yes

</td></tr><tr valign=baseline><td><em>パーセンテージ：</em>&nbsp;&nbsp;</td><td>利用不可
</td></tr><tr valign=baseline><td><em>メディア：</em>&nbsp;&nbsp;</td><td><a href="media.html#visual-media-group" class="noxref">visual</a>
</td></tr><tr valign=baseline><td><em>算出値：</em>&nbsp;&nbsp;</td><td>指定される
</td></tr></table>
</dl>
</div>


<P> このプロパティーは、主要ブロックボックスに対するマーカーボックスの位置を指定する。値は次の意味を持つ：</p>

<dl>
<dt><strong>outside</strong>

<dd>マーカーボックスは、主要ブロックボックスの外側になる。浮動体に隣接するlist-itemマーカーの位置はCSS&nbsp;2.2で未定義である。CSS&nbsp;2.2は、マーカーボックスの正確な位置や塗装の順序における位置を指定しないが、リスト項目の'direction'プロパティーが'ltr'のものについて、マーカーボックスがコンテンツの左側であることが、および要素の'direction'プロパティーが'rtl'であるものについて、マーカーボックスがコンテンツの右側にあることが要求される。マーカーボックスは、主要ブロックボックスのボーダーに対して固定され、主要ボックスのコンテンツに対してスクロールしない。CSS&nbsp;2.2において、要素の<a href="visufx.html#propdef-overflow" class="noxref"><span class=propinst-overflow>'overflow'</span></a>が'visible'以外の場合、ユーザーエージェントはマーカーを隠してもよい。（これは将来変更することが期待される。）マーカーボックスの大きさやコンテンツは、主要ブロックボックスの高さとその最初の行ボックスの高さの両方またはいずれか一方に影響を与えてもよく、場合によっては新しい行ボックスの作成を引き起こしてもよい。<span
class=note><strong>注：</strong>この相互作用は、より正確にはCSSの将来のレベルで定義されるかもしれない。</span>

<dt><strong>inside</strong>

<dd>マーカーボックスは、要素のコンテンツの前および任意の:before疑似要素の前に、主要ブロックボックスの最初のインラインボックスとして配置される。CSS&nbsp;2.2はマーカーボックスの正確な位置を指定しない。

</dl>

<div class="html-example"><P>
たとえば：

<PRE>
&lt;HTML&gt;
  &lt;HEAD&gt;
    &lt;TITLE&gt;Comparison of inside/outside position&lt;/TITLE&gt;
    &lt;STYLE type="text/css"&gt;
      ul         { list-style: outside }
      ul.compact { list-style: inside }
    &lt;/STYLE&gt;
  &lt;/HEAD&gt;
  &lt;BODY&gt;
    &lt;UL&gt;
      &lt;LI&gt;first list item comes first
      &lt;LI&gt;second list item comes second
    &lt;/UL&gt;

    &lt;UL class="compact"&gt;
      &lt;LI&gt;first list item comes first
      &lt;LI&gt;second list item comes second
    &lt;/UL&gt;
  &lt;/BODY&gt;
&lt;/HTML&gt;
</PRE>

<P> 上の例は次のように整形されてもよい：</P>

<div class="figure">
<P><img src="http://www.w3.org/TR/CSS2/images/list-inout.png" alt="マーカーの位置による違い"><SPAN class="dlink">&nbsp;&nbsp;&nbsp;<A name="img-list-inout" href="http://www.w3.org/TR/CSS2/images/longdesc/list-inout-desc.html" title="マーカーを主要ボックスの内側に置く場合と外側に置く場合の例について">[D]</A></SPAN></p>
</div>

<P>右から左のテキストにおいて、マーカーはボックスの右側にくる。 
</div>

<div class="propdef">
<dl><dt>
<span class="index-def" title="'list-style'"><a name="propdef-list-style" class="propdef-title"><strong>'list-style'</strong></a></span>
<dd>
<table class="propinfo" cellspacing=0 cellpadding=0>
<tr valign=baseline><td><em>値：</em>&nbsp;&nbsp;</td><td>[ <a href="generate.html#propdef-list-style-type" class="noxref"><span class="propinst-list-style-type">&lt;'list-style-type'&gt;</span></a> || <a href="generate.html#propdef-list-style-position" class="noxref"><span class="propinst-list-style-position">&lt;'list-style-position'&gt;</span></a> || <a href="generate.html#propdef-list-style-image" class="noxref"><span class="propinst-list-style-image">&lt;'list-style-image'&gt;</span></a> ] | <a href="cascade.html#value-def-inherit" class="noxref"><span class="value-inst-inherit">inherit</span></a>
</td></tr><tr valign=baseline><td><em>初期値：</em>&nbsp;&nbsp;</td><td>個々のプロパティーを参照
</td></tr><tr valign=baseline><td><em>適用対象：</em>&nbsp;&nbsp;</td><td>'display: list-item'をもつ要素
</td></tr><tr valign=baseline><td><em>継承：</em>&nbsp;&nbsp;</td><td>yes

</td></tr><tr valign=baseline><td><em>パーセンテージ：</em>&nbsp;&nbsp;</td><td>利用不可
</td></tr><tr valign=baseline><td><em>メディア：</em>&nbsp;&nbsp;</td><td><a href="media.html#visual-media-group" class="noxref">visual</a>
</td></tr><tr valign=baseline><td><em>算出値：</em>&nbsp;&nbsp;</td><td>個々のプロパティーを参照
</td></tr></table>
</dl>
</div>


<P> <a href="generate.html#propdef-list-style" class="noxref"><span class="propinst-list-style">'list-style'</span></a>は、<a href="generate.html#propdef-list-style-type" class="noxref"><span
class="propinst-list-style-type">'list-style-type'</span></a>、<a href="generate.html#propdef-list-style-image" class="noxref"><span
class="propinst-list-style-image">'list-style-image'</span></a>、<a href="generate.html#propdef-list-style-position" class="noxref"><span
class="propinst-list-style-position">'list-style-position'</span></a>という3つのプロパティーを1箇所で設定できる略式表記プロパティーである。

<div class="example"><P style="display:none">例：</P><P>

<PRE>
ul { list-style: upper-roman inside }  /* 任意の"ul"要素 */
ul &gt; li &gt; ul { list-style: circle outside } /* 任意の"ul"要素の子の
                                             "li"の子の
                                              "ul" */
</PRE>
</div>

<P>著者は直接リスト項目の要素の<a href="generate.html#propdef-list-style" class="noxref"><span
class="propinst-list-style">'list-style'</span></a>情報（例えば、HTMLで"li"）を指定してもよいが、慎重に行うべきである。次の規則は似ているが、最初は<a
href="./selector.html#descendant-selectors">子孫セレクタ</a>を、2番目は（より具体的な）<a
href="./selector.html#child-selectors">子セレクタ</a>を宣言している。

<PRE class="example">
ol.alpha li   { list-style: lower-alpha } /* 任意の "ol" の子孫 "li" */ 
ol.alpha &gt; li { list-style: lower-alpha } /* 任意の"ol"の子"li" */
</PRE>

<P><a
href="selector.html#descendant-selectors">子孫セレクタ</a>のみを用いる著者は、意図する結果を得られないかもしれない。次の規則を考えてみる：

<PRE class="html-example">
&lt;HTML&gt;
  &lt;HEAD&gt;
    &lt;TITLE&gt;WARNING: Unexpected results due to cascade&lt;/TITLE&gt;
    &lt;STYLE type="text/css"&gt;
      ol.alpha li  { list-style: lower-alpha }
      ul li        { list-style: disc }
    &lt;/STYLE&gt;
  &lt;/HEAD&gt;
  &lt;BODY&gt;
    &lt;OL class="alpha"&gt;
      &lt;LI&gt;level 1
      &lt;UL&gt;
         &lt;LI&gt;level 2
      &lt;/UL&gt;
    &lt;/OL&gt;
  &lt;/BODY&gt;
&lt;/HTML&gt;
</PRE>

<P>意図したレンダリングは、'lower-alpha'ラベルをもつレベル1のリスト項目および、'disc'ラベルをもつレベル2の項目を持つ。しかし、<a href="./cascade.html#cascading-order">カスケード順序</a>は（特定のクラス情報を含む）最初の規則に2つ目の規則を隠させてしまう。次の規則は、代わりに<a href="./selector.html#child-selectors">子セレクタ</a>を用いることによって問題を解決する：

<PRE class="example">
ol.alpha &gt; li  { list-style: lower-alpha }
ul li   { list-style: disc }
</PRE>

<P>もう1つの解決法は、リスト型の要素に<a href="generate.html#propdef-list-style" class="noxref"><span
class="propinst-list-style">'list-style'</span></a>の情報を指定する方法である：

<PRE class="example">
ol.alpha  { list-style: lower-alpha }
ul        { list-style: disc }
</PRE>

<P>継承は、OLとUL要素からLI要素に<a href="generate.html#propdef-list-style" class="noxref"><span
class="propinst-list-style">'list-style'</span></a>値を転送する。これは、リストのスタイル情報を指定するための推奨される方法である。

<div class="example"><P style="display:none">例：</P>
<P>URI値は、他の値と組み合わせてもよい：

<PRE>
ul { list-style: url("http://png.com/ellipse.png") disc }
</PRE>
<P> 上記の例において、画像が使用できない場合に'disc'が使用される。
</div>

<P><a href="generate.html#propdef-list-style" class="noxref"><span
class="propinst-list-style">'list-style'</span></a>プロパティー内で'none'値は、<a href="generate.html#propdef-list-style-type" class="noxref"><span
class="propinst-list-style-type">'list-style-type'</span></a>および<a href="generate.html#propdef-list-style-image" class="noxref"><span
class="propinst-list-style-image">'list-style-image'</span></a>のどちらでがなくても設定し、そうでなければ'none'に設定される。しかし、両方が別な方法で指定される場合、宣言はエラーになる（したがって無視される）。

<div class="example"><P style="display:none">例：</P>
<P>たとえば、<a href="generate.html#propdef-list-style" class="noxref"><span
class="propinst-list-style">'list-style'</span></a>プロパティーへの'none'の値は、<a href="generate.html#propdef-list-style-type" class="noxref"><span class="propinst-list-style-type">'list-style-type'</span></a>と<a href="generate.html#propdef-list-style-image" class="noxref"><span class="propinst-list-style-image">'list-style-image'</span></a>の両方に'none'に設定する：

<PRE>
ul { list-style: none }
</PRE>

<P>結果、リスト項目のマーカーは表示されない。

</div>

<hr class="navbar">

<div class="navbar">
<p><a href="visufx.html">前章</a> &nbsp; <a href="page.html">次章</a> &nbsp; <a href="cover.html#minitoc">目次</a> &nbsp; <a href="propidx.html">プロパティー</a> &nbsp; <a href="indexlist.html">索引</a> &nbsp;
</div>
</body>
</html>

